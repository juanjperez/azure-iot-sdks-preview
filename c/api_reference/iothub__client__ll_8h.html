<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Microsoft Azure IoT Device SDK for C: c/iothub_client/inc/iothub_client_ll.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Microsoft Azure IoT Device SDK for C
   &#160;<span id="projectnumber">1.0.16</span>
   </div>
   <div id="projectbrief">The Microsoft Azure IoT device libraries for C contain code that facilitates building devices and applications that connect to and are managed by Azure IoT Hub services.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1784a01aa976a8c78ef5dfc3737bcac8.html">c</a></li><li class="navelem"><a class="el" href="dir_3fa79a50e591a13d34768ad07721929e.html">iothub_client</a></li><li class="navelem"><a class="el" href="dir_72aec881c4ddd8f448eae7bd490815ae.html">inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">iothub_client_ll.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>APIs that allow a user (usually a device) to communicate with an Azure IoTHub.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;azure_c_shared_utility/macro_utils.h&quot;</code><br />
<code>#include &quot;azure_c_shared_utility/umock_c_prod.h&quot;</code><br />
<code>#include &quot;azure_c_shared_utility/agenttime.h&quot;</code><br />
<code>#include &quot;azure_c_shared_utility/xio.h&quot;</code><br />
<code>#include &quot;azure_c_shared_utility/doublylinkedlist.h&quot;</code><br />
<code>#include &quot;<a class="el" href="iothub__message_8h_source.html">iothub_message.h</a>&quot;</code><br />
<code>#include &quot;iothub_transport_ll.h&quot;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="iothub__client__ll_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i_o_t_h_u_b___c_l_i_e_n_t___c_o_n_f_i_g___t_a_g.html">IOTHUB_CLIENT_CONFIG_TAG</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct captures IoTHub client configuration.  <a href="struct_i_o_t_h_u_b___c_l_i_e_n_t___c_o_n_f_i_g___t_a_g.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i_o_t_h_u_b___c_l_i_e_n_t___d_e_v_i_c_e___c_o_n_f_i_g___t_a_g.html">IOTHUB_CLIENT_DEVICE_CONFIG_TAG</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct captures IoTHub client device configuration.  <a href="struct_i_o_t_h_u_b___c_l_i_e_n_t___d_e_v_i_c_e___c_o_n_f_i_g___t_a_g.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i_o_t_h_u_b_t_r_a_n_s_p_o_r_t___c_o_n_f_i_g___t_a_g.html">IOTHUBTRANSPORT_CONFIG_TAG</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct captures IoTHub transport configuration.  <a href="struct_i_o_t_h_u_b_t_r_a_n_s_p_o_r_t___c_o_n_f_i_g___t_a_g.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac14a59dcc227623976d044d1805b5e22"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac14a59dcc227623976d044d1805b5e22"></a>
typedef struct <a class="el" href="struct_i_o_t_h_u_b___c_l_i_e_n_t___c_o_n_f_i_g___t_a_g.html">IOTHUB_CLIENT_CONFIG_TAG</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#ac14a59dcc227623976d044d1805b5e22">IOTHUB_CLIENT_CONFIG</a></td></tr>
<tr class="memdesc:ac14a59dcc227623976d044d1805b5e22"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct captures IoTHub client configuration. <br /></td></tr>
<tr class="separator:ac14a59dcc227623976d044d1805b5e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b304ecf293102cb855bee1b8d2cdf7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab9b304ecf293102cb855bee1b8d2cdf7"></a>
typedef struct <a class="el" href="struct_i_o_t_h_u_b___c_l_i_e_n_t___d_e_v_i_c_e___c_o_n_f_i_g___t_a_g.html">IOTHUB_CLIENT_DEVICE_CONFIG_TAG</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#ab9b304ecf293102cb855bee1b8d2cdf7">IOTHUB_CLIENT_DEVICE_CONFIG</a></td></tr>
<tr class="memdesc:ab9b304ecf293102cb855bee1b8d2cdf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct captures IoTHub client device configuration. <br /></td></tr>
<tr class="separator:ab9b304ecf293102cb855bee1b8d2cdf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93358acceb1561c4e0fe06a82c55038f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93358acceb1561c4e0fe06a82c55038f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a93358acceb1561c4e0fe06a82c55038f">DEFINE_ENUM</a> (IOTHUB_CLIENT_RESULT, IOTHUB_CLIENT_RESULT_VALUES)</td></tr>
<tr class="memdesc:a93358acceb1561c4e0fe06a82c55038f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration specifying the status of calls to various APIs in this module. <br /></td></tr>
<tr class="separator:a93358acceb1561c4e0fe06a82c55038f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0638ee65587e7c3778fbfff8e44edb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f0638ee65587e7c3778fbfff8e44edb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a5f0638ee65587e7c3778fbfff8e44edb">DEFINE_ENUM</a> (IOTHUB_CLIENT_STATUS, IOTHUB_CLIENT_STATUS_VALUES)</td></tr>
<tr class="memdesc:a5f0638ee65587e7c3778fbfff8e44edb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration returned by the ::IoTHubClient_LL_GetSendStatus API to indicate the current sending status of the IoT Hub client. <br /></td></tr>
<tr class="separator:a5f0638ee65587e7c3778fbfff8e44edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e187243c4ab0a806a2176d08560cad9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e187243c4ab0a806a2176d08560cad9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a1e187243c4ab0a806a2176d08560cad9">DEFINE_ENUM</a> (IOTHUB_CLIENT_IOTHUB_METHOD_STATUS, IOTHUB_CLIENT_IOTHUB_METHOD_STATUS_VALUES)</td></tr>
<tr class="memdesc:a1e187243c4ab0a806a2176d08560cad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration returned by remotely executed functions. <br /></td></tr>
<tr class="separator:a1e187243c4ab0a806a2176d08560cad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2621740da347a7c1c76d099d5b1d54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb2621740da347a7c1c76d099d5b1d54"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#abb2621740da347a7c1c76d099d5b1d54">DEFINE_ENUM</a> (IOTHUB_CLIENT_CONFIRMATION_RESULT, IOTHUB_CLIENT_CONFIRMATION_RESULT_VALUES)</td></tr>
<tr class="memdesc:abb2621740da347a7c1c76d099d5b1d54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration passed in by the IoT Hub when the event confirmation callback is invoked to indicate status of the event processing in the hub. <br /></td></tr>
<tr class="separator:abb2621740da347a7c1c76d099d5b1d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b68ebe67b3aa7a3a4a2ece8b64a849"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54b68ebe67b3aa7a3a4a2ece8b64a849"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a54b68ebe67b3aa7a3a4a2ece8b64a849">DEFINE_ENUM</a> (IOTHUBMESSAGE_DISPOSITION_RESULT, IOTHUBMESSAGE_DISPOSITION_RESULT_VALUES)</td></tr>
<tr class="memdesc:a54b68ebe67b3aa7a3a4a2ece8b64a849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration returned by the callback which is invoked whenever the IoT Hub sends a message to the device. <br /></td></tr>
<tr class="separator:a54b68ebe67b3aa7a3a4a2ece8b64a849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d664f0d3429b64e8965acc38bee9cbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a2d664f0d3429b64e8965acc38bee9cbf">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_LL_HANDLE, IoTHubClient_LL_CreateFromConnectionString, const char *, connectionString, IOTHUB_CLIENT_TRANSPORT_PROVIDER, protocol)</td></tr>
<tr class="memdesc:a2d664f0d3429b64e8965acc38bee9cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a IoT Hub client for communication with an existing IoT Hub using the specified connection string parameter.  <a href="#a2d664f0d3429b64e8965acc38bee9cbf">More...</a><br /></td></tr>
<tr class="separator:a2d664f0d3429b64e8965acc38bee9cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc5f43d2b771a28e0e952cf4c72c202"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a4fc5f43d2b771a28e0e952cf4c72c202">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_LL_HANDLE, IoTHubClient_LL_Create, const <a class="el" href="iothub__client__ll_8h.html#ac14a59dcc227623976d044d1805b5e22">IOTHUB_CLIENT_CONFIG</a> *, config)</td></tr>
<tr class="memdesc:a4fc5f43d2b771a28e0e952cf4c72c202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a IoT Hub client for communication with an existing IoT Hub using the specified parameters.  <a href="#a4fc5f43d2b771a28e0e952cf4c72c202">More...</a><br /></td></tr>
<tr class="separator:a4fc5f43d2b771a28e0e952cf4c72c202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d661cbec52694dbe51733ecab52e597"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a7d661cbec52694dbe51733ecab52e597">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_LL_HANDLE, IoTHubClient_LL_CreateWithTransport, const <a class="el" href="iothub__client__ll_8h.html#ab9b304ecf293102cb855bee1b8d2cdf7">IOTHUB_CLIENT_DEVICE_CONFIG</a> *, config)</td></tr>
<tr class="memdesc:a7d661cbec52694dbe51733ecab52e597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a IoT Hub client for communication with an existing IoT Hub using an existing transport.  <a href="#a7d661cbec52694dbe51733ecab52e597">More...</a><br /></td></tr>
<tr class="separator:a7d661cbec52694dbe51733ecab52e597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5be4a0efdc629a61f79be528075122"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a8f5be4a0efdc629a61f79be528075122">MOCKABLE_FUNCTION</a> (, void, IoTHubClient_LL_Destroy, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle)</td></tr>
<tr class="memdesc:a8f5be4a0efdc629a61f79be528075122"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disposes of resources allocated by the IoT Hub client. This is a blocking call.  <a href="#a8f5be4a0efdc629a61f79be528075122">More...</a><br /></td></tr>
<tr class="separator:a8f5be4a0efdc629a61f79be528075122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac447bc47e261f19a981f4b4557b5d36a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#ac447bc47e261f19a981f4b4557b5d36a">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_RESULT, IoTHubClient_LL_SendEventAsync, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle, IOTHUB_MESSAGE_HANDLE, eventMessageHandle, IOTHUB_CLIENT_EVENT_CONFIRMATION_CALLBACK, eventConfirmationCallback, void *, userContextCallback)</td></tr>
<tr class="memdesc:ac447bc47e261f19a981f4b4557b5d36a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous call to send the message specified by <code>eventMessageHandle</code>.  <a href="#ac447bc47e261f19a981f4b4557b5d36a">More...</a><br /></td></tr>
<tr class="separator:ac447bc47e261f19a981f4b4557b5d36a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac0edaf4999cb423432785af30ac238"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a9ac0edaf4999cb423432785af30ac238">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_RESULT, IoTHubClient_LL_GetSendStatus, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle, IOTHUB_CLIENT_STATUS *, iotHubClientStatus)</td></tr>
<tr class="memdesc:a9ac0edaf4999cb423432785af30ac238"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the current sending status for IoTHubClient.  <a href="#a9ac0edaf4999cb423432785af30ac238">More...</a><br /></td></tr>
<tr class="separator:a9ac0edaf4999cb423432785af30ac238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554ba33cdb3854ae1a531d9ccdd56d98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a554ba33cdb3854ae1a531d9ccdd56d98">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_RESULT, IoTHubClient_LL_SetMessageCallback, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle, IOTHUB_CLIENT_MESSAGE_CALLBACK_ASYNC, messageCallback, void *, userContextCallback)</td></tr>
<tr class="memdesc:a554ba33cdb3854ae1a531d9ccdd56d98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the message callback to be invoked when IoT Hub issues a message to the device. This is a blocking call.  <a href="#a554ba33cdb3854ae1a531d9ccdd56d98">More...</a><br /></td></tr>
<tr class="separator:a554ba33cdb3854ae1a531d9ccdd56d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91cfd54bfb16fe3353e7caba0124f9d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a91cfd54bfb16fe3353e7caba0124f9d3">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_RESULT, IoTHubClient_LL_GetLastMessageReceiveTime, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle, time_t *, lastMessageReceiveTime)</td></tr>
<tr class="memdesc:a91cfd54bfb16fe3353e7caba0124f9d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns in the out parameter <code>lastMessageReceiveTime</code> what was the value of the <code>time</code> function when the last message was received at the client.  <a href="#a91cfd54bfb16fe3353e7caba0124f9d3">More...</a><br /></td></tr>
<tr class="separator:a91cfd54bfb16fe3353e7caba0124f9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90237e67818d208f82c561ed9c2cd22a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a90237e67818d208f82c561ed9c2cd22a">MOCKABLE_FUNCTION</a> (, void, IoTHubClient_LL_DoWork, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle)</td></tr>
<tr class="memdesc:a90237e67818d208f82c561ed9c2cd22a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is meant to be called by the user when work (sending/receiving) can be done by the IoTHubClient.  <a href="#a90237e67818d208f82c561ed9c2cd22a">More...</a><br /></td></tr>
<tr class="separator:a90237e67818d208f82c561ed9c2cd22a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580e7eabc53a9307425319572a967b49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a580e7eabc53a9307425319572a967b49">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_RESULT, IoTHubClient_LL_SetOption, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle, const char *, optionName, const void *, value)</td></tr>
<tr class="memdesc:a580e7eabc53a9307425319572a967b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API sets a runtime option identified by parameter <code>optionName</code> to a value pointed to by <code>value</code>. <code>optionName</code> and the data type <code>value</code> is pointing to are specific for every option.  <a href="#a580e7eabc53a9307425319572a967b49">More...</a><br /></td></tr>
<tr class="separator:a580e7eabc53a9307425319572a967b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb79e48ed92140c5c2c2f9b7110d3cf7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#acb79e48ed92140c5c2c2f9b7110d3cf7">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_RESULT, IoTHubClient_LL_SetDeviceTwinCallback, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle, IOTHUB_CLIENT_DEVICE_TWIN_CALLBACK, deviceTwinCallback, void *, userContextCallback)</td></tr>
<tr class="memdesc:acb79e48ed92140c5c2c2f9b7110d3cf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API specifies a call back to be used when the device receives a desired state update.  <a href="#acb79e48ed92140c5c2c2f9b7110d3cf7">More...</a><br /></td></tr>
<tr class="separator:acb79e48ed92140c5c2c2f9b7110d3cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78bb53e134d45944ac920cba12c86d18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a78bb53e134d45944ac920cba12c86d18">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_RESULT, IoTHubClient_LL_SendReportedState, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle, const unsigned char *, reportedState, size_t, size, IOTHUB_CLIENT_REPORTED_STATE_CALLBACK, reportedStateCallback, void *, userContextCallback)</td></tr>
<tr class="memdesc:a78bb53e134d45944ac920cba12c86d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API sneds a report of the device's properties and their current values.  <a href="#a78bb53e134d45944ac920cba12c86d18">More...</a><br /></td></tr>
<tr class="separator:a78bb53e134d45944ac920cba12c86d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf7191eb393d51a77083f7ab6a41b03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a9cf7191eb393d51a77083f7ab6a41b03">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_RESULT, IoTHubClient_LL_SetDeviceMethodCallback, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle, IOTHUB_CLIENT_DEVICE_METHOD_CALLBACK_ASYNC, deviceMethodCallback, void *, userContextCallback)</td></tr>
<tr class="memdesc:a9cf7191eb393d51a77083f7ab6a41b03"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API sets callback for cloud to device method call.  <a href="#a9cf7191eb393d51a77083f7ab6a41b03">More...</a><br /></td></tr>
<tr class="separator:a9cf7191eb393d51a77083f7ab6a41b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fc9f33226ab10f4363269a196694334"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iothub__client__ll_8h.html#a2fc9f33226ab10f4363269a196694334">MOCKABLE_FUNCTION</a> (, IOTHUB_CLIENT_RESULT, IoTHubClient_LL_UploadToBlob, IOTHUB_CLIENT_LL_HANDLE, iotHubClientHandle, const char *, destinationFileName, const unsigned char *, source, size_t, size)</td></tr>
<tr class="memdesc:a2fc9f33226ab10f4363269a196694334"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API uploads to Azure Storage the content pointed to by <code>source</code> having the size <code>size</code> under the blob name devicename/.  <a href="#a2fc9f33226ab10f4363269a196694334">More...</a><br /></td></tr>
<tr class="separator:a2fc9f33226ab10f4363269a196694334"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>APIs that allow a user (usually a device) to communicate with an Azure IoTHub. </p>
<p>IoTHubClient_LL is a module that allows a user (usually a device) to communicate with an Azure IoTHub. It can send events and receive messages. At any given moment in time there can only be at most 1 message callback function.</p>
<p>This API surface contains a set of APIs that allows the user to interact with the lower layer portion of the IoTHubClient. These APIs contain <code>_LL_</code> in their name, but retain the same functionality like the <code>IoTHubClient_</code>... APIs, with one difference. If the <code>_LL_</code> APIs are used then the user is responsible for scheduling when the actual work done by the IoTHubClient happens (when the data is sent/received on/from the wire). This is useful for constrained devices where spinning a separate thread is often not desired. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2d664f0d3429b64e8965acc38bee9cbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_CreateFromConnectionString&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">connectionString&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_TRANSPORT_PROVIDER&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">protocol&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a IoT Hub client for communication with an existing IoT Hub using the specified connection string parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connectionString</td><td>Pointer to a character string </td></tr>
    <tr><td class="paramname">protocol</td><td>Function pointer for protocol implementation</td></tr>
  </table>
  </dd>
</dl>
<p>Sample connection string: </p><blockquote class="doxtable">
<pre>HostName=[IoT Hub name goes here].[IoT Hub suffix goes here, e.g., private.azure-devices-int.net];DeviceId=[Device ID goes here];SharedAccessKey=[Device key goes here];</pre> </blockquote>
<dl class="section return"><dt>Returns</dt><dd>A non-NULL <code>IOTHUB_CLIENT_LL_HANDLE</code> value that is used when invoking other functions for IoT Hub client and <code>NULL</code> on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a4fc5f43d2b771a28e0e952cf4c72c202"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_Create&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="iothub__client__ll_8h.html#ac14a59dcc227623976d044d1805b5e22">IOTHUB_CLIENT_CONFIG</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">config&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a IoT Hub client for communication with an existing IoT Hub using the specified parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Pointer to an <code>IOTHUB_CLIENT_CONFIG</code> structure</td></tr>
  </table>
  </dd>
</dl>
<p>The API does not allow sharing of a connection across multiple devices. This is a blocking call.</p>
<dl class="section return"><dt>Returns</dt><dd>A non-NULL <code>IOTHUB_CLIENT_LL_HANDLE</code> value that is used when invoking other functions for IoT Hub client and <code>NULL</code> on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a7d661cbec52694dbe51733ecab52e597"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_CreateWithTransport&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="iothub__client__ll_8h.html#ab9b304ecf293102cb855bee1b8d2cdf7">IOTHUB_CLIENT_DEVICE_CONFIG</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">config&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a IoT Hub client for communication with an existing IoT Hub using an existing transport. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Pointer to an <code>IOTHUB_CLIENT_DEVICE_CONFIG</code> structure</td></tr>
  </table>
  </dd>
</dl>
<p>The API *allows* sharing of a connection across multiple devices. This is a blocking call.</p>
<dl class="section return"><dt>Returns</dt><dd>A non-NULL <code>IOTHUB_CLIENT_LL_HANDLE</code> value that is used when invoking other functions for IoT Hub client and <code>NULL</code> on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a8f5be4a0efdc629a61f79be528075122"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_Destroy&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disposes of resources allocated by the IoT Hub client. This is a blocking call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac447bc47e261f19a981f4b4557b5d36a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_RESULT&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_SendEventAsync&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_MESSAGE_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">eventMessageHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_EVENT_CONFIRMATION_CALLBACK&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">eventConfirmationCallback&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">userContextCallback&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous call to send the message specified by <code>eventMessageHandle</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
    <tr><td class="paramname">eventMessageHandle</td><td>The handle to an IoT Hub message. </td></tr>
    <tr><td class="paramname">eventConfirmationCallback</td><td>The callback specified by the device for receiving confirmation of the delivery of the IoT Hub message. This callback can be expected to invoke the ::IoTHubClient_LL_SendEventAsync function for the same message in an attempt to retry sending a failing message. The user can specify a <code>NULL</code> value here to indicate that no callback is required. </td></tr>
    <tr><td class="paramname">userContextCallback</td><td>User specified context that will be provided to the callback. This can be <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<p><b>NOTE:</b> The application behavior is undefined if the user calls the ::IoTHubClient_LL_Destroy function from within any callback.</p>
<dl class="section return"><dt>Returns</dt><dd>IOTHUB_CLIENT_OK upon success or an error code upon failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a9ac0edaf4999cb423432785af30ac238"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_RESULT&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_GetSendStatus&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_STATUS *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientStatus&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the current sending status for IoTHubClient. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
    <tr><td class="paramname">iotHubClientStatus</td><td>The sending state is populated at the address pointed at by this parameter. The value will be set to <code>IOTHUBCLIENT_SENDSTATUS_IDLE</code> if there is currently no item to be sent and <code>IOTHUBCLIENT_SENDSTATUS_BUSY</code> if there are.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IOTHUB_CLIENT_OK upon success or an error code upon failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a554ba33cdb3854ae1a531d9ccdd56d98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_RESULT&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_SetMessageCallback&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_MESSAGE_CALLBACK_ASYNC&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">messageCallback&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">userContextCallback&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the message callback to be invoked when IoT Hub issues a message to the device. This is a blocking call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
    <tr><td class="paramname">messageCallback</td><td>The callback specified by the device for receiving messages from IoT Hub. </td></tr>
    <tr><td class="paramname">userContextCallback</td><td>User specified context that will be provided to the callback. This can be <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<p><b>NOTE:</b> The application behavior is undefined if the user calls the ::IoTHubClient_LL_Destroy function from within any callback.</p>
<dl class="section return"><dt>Returns</dt><dd>IOTHUB_CLIENT_OK upon success or an error code upon failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a91cfd54bfb16fe3353e7caba0124f9d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_RESULT&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_GetLastMessageReceiveTime&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lastMessageReceiveTime&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns in the out parameter <code>lastMessageReceiveTime</code> what was the value of the <code>time</code> function when the last message was received at the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
    <tr><td class="paramname">lastMessageReceiveTime</td><td>Out parameter containing the value of <code>time</code> function when the last message was received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IOTHUB_CLIENT_OK upon success or an error code upon failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a90237e67818d208f82c561ed9c2cd22a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_DoWork&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is meant to be called by the user when work (sending/receiving) can be done by the IoTHubClient. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function.</td></tr>
  </table>
  </dd>
</dl>
<p>All IoTHubClient interactions (in regards to network traffic and/or user level callbacks) are the effect of calling this function and they take place synchronously inside _DoWork. </p>

</div>
</div>
<a class="anchor" id="a580e7eabc53a9307425319572a967b49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_RESULT&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_SetOption&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optionName&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">value&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API sets a runtime option identified by parameter <code>optionName</code> to a value pointed to by <code>value</code>. <code>optionName</code> and the data type <code>value</code> is pointing to are specific for every option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
    <tr><td class="paramname">optionName</td><td>Name of the option. </td></tr>
    <tr><td class="paramname">value</td><td>The value.</td></tr>
  </table>
  </dd>
</dl>
<p>The options that can be set via this API are:</p><ul>
<li><b>timeout</b> - the maximum time in milliseconds a communication is allowed to use. <code>value</code> is a pointer to an <code>unsigned</code> <code>int</code> with the timeout value in milliseconds. This is only supported for the HTTP protocol as of now. When the HTTP protocol uses CURL, the meaning of the parameter is <em>total request time</em>. When the HTTP protocol uses winhttp, the meaning is the same as the <code>dwSendTimeout</code> and <code>dwReceiveTimeout</code> parameters of the <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa384116(v=vs.85).aspx">WinHttpSetTimeouts</a> API.</li>
<li><b>CURLOPT_LOW_SPEED_LIMIT</b> - only available for HTTP protocol and only when CURL is used. It has the same meaning as CURL's option with the same name. <code>value</code> is pointer to a long.</li>
<li><b>CURLOPT_LOW_SPEED_TIME</b> - only available for HTTP protocol and only when CURL is used. It has the same meaning as CURL's option with the same name. <code>value</code> is pointer to a long.</li>
<li><b>CURLOPT_FORBID_REUSE</b> - only available for HTTP protocol and only when CURL is used. It has the same meaning as CURL's option with the same name. <code>value</code> is pointer to a long.</li>
<li><b>CURLOPT_FRESH_CONNECT</b> - only available for HTTP protocol and only when CURL is used. It has the same meaning as CURL's option with the same name. <code>value</code> is pointer to a long.</li>
<li><b>CURLOPT_VERBOSE</b> - only available for HTTP protocol and only when CURL is used. It has the same meaning as CURL's option with the same name. <code>value</code> is pointer to a long.<ul>
<li><b>keepalive</b> - available for MQTT protocol. Integer value that sets the interval in seconds when pings are sent to the server.</li>
<li><b>logtrace</b> - available for MQTT protocol. Boolean value that turns on and off the diagnostic logging.</li>
</ul>
</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>IOTHUB_CLIENT_OK upon success or an error code upon failure. </dd></dl>

</div>
</div>
<a class="anchor" id="acb79e48ed92140c5c2c2f9b7110d3cf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_RESULT&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_SetDeviceTwinCallback&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_DEVICE_TWIN_CALLBACK&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">deviceTwinCallback&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">userContextCallback&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API specifies a call back to be used when the device receives a desired state update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
    <tr><td class="paramname">deviceTwinCallback</td><td>The callback specified by the device client to be used for updating the desired state. The callback will be called in response to patch request send by the IoTHub services. The payload will be passed to the callback, along with two version numbers:<ul>
<li>Desired:</li>
<li>LastSeenReported: </li>
</ul>
</td></tr>
    <tr><td class="paramname">userContextCallback</td><td>User specified context that will be provided to the callback. This can be <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<p><b>NOTE:</b> The application behavior is undefined if the user calls the ::IoTHubClient_LL_Destroy function from within any callback.</p>
<dl class="section return"><dt>Returns</dt><dd>IOTHUB_CLIENT_OK upon success or an error code upon failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a78bb53e134d45944ac920cba12c86d18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_RESULT&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_SendReportedState&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">reportedState&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_REPORTED_STATE_CALLBACK&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">reportedStateCallback&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">userContextCallback&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API sneds a report of the device's properties and their current values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
    <tr><td class="paramname">reportedState</td><td>The current device property values to be 'reported' to the IoTHub. </td></tr>
    <tr><td class="paramname">reportedStateCallback</td><td>The callback specified by the device client to be called with the result of the transaction. </td></tr>
    <tr><td class="paramname">userContextCallback</td><td>User specified context that will be provided to the callback. This can be <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<p><b>NOTE:</b> The application behavior is undefined if the user calls the ::IoTHubClient_LL_Destroy function from within any callback.</p>
<dl class="section return"><dt>Returns</dt><dd>IOTHUB_CLIENT_OK upon success or an error code upon failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a9cf7191eb393d51a77083f7ab6a41b03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_RESULT&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_SetDeviceMethodCallback&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_DEVICE_METHOD_CALLBACK_ASYNC&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">deviceMethodCallback&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">userContextCallback&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API sets callback for cloud to device method call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
    <tr><td class="paramname">deviceMethodCallback</td><td>The callback which will be called by IoTHub. </td></tr>
    <tr><td class="paramname">userContextCallback</td><td>User specified context that will be provided to the callback. This can be <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IOTHUB_CLIENT_OK upon success or an error code upon failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a2fc9f33226ab10f4363269a196694334"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOCKABLE_FUNCTION </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_RESULT&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoTHubClient_LL_UploadToBlob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_LL_HANDLE&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iotHubClientHandle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">destinationFileName&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">source&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API uploads to Azure Storage the content pointed to by <code>source</code> having the size <code>size</code> under the blob name devicename/. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotHubClientHandle</td><td>The handle created by a call to the create function. </td></tr>
    <tr><td class="paramname">destinationFileName</td><td>name of the file. </td></tr>
    <tr><td class="paramname">source</td><td>pointer to the source for file content (can be NULL) </td></tr>
    <tr><td class="paramname">size</td><td>the size of the source in memory (if <code>source</code> is NULL then size needs to be 0).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IOTHUB_CLIENT_OK upon success or an error code upon failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
