<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: HttpReceiver</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    <h1 class="page-title">Class: HttpReceiver</h1>
    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="module-azure-iot-device-http.html">azure-iot-device-http</a>.</span>
        
        HttpReceiver
        </h2>
        
            <div class="class-description"><p>Provides a receiver link that can pull messages from the IoT Hub service and settle them.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="HttpReceiver"><span class="type-signature"></span>new HttpReceiver<span class="signature">(config)</span><span class="type-signature"></span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>This is a dictionary containing the
                                   following keys and values:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>host</td>
<td>The host URL of the Azure IoT Hub</td>
</tr>
<tr>
<td>hubName</td>
<td>The name of the Azure IoT Hub</td>
</tr>
<tr>
<td>keyName</td>
<td>The identifier of the device that is being connected to</td>
</tr>
<tr>
<td>key</td>
<td>The shared access key auth</td>
</tr>
</tbody>
</table></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="device_transport_http_lib_http_receiver.js.html">device/transport/http/lib/http_receiver.js</a>, <a href="device_transport_http_lib_http_receiver.js.html#line27">line 27</a>
    </li></ul></dd>
    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li>event:message When a message is received</li>

    <li>event:errorReceived When there was an error trying to receive messages</li>
</ul>












    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="abandon"><span class="type-signature"></span>abandon<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Sends an abandon message to the IoT Hub service. The message remains in the queue and the service will retry delivering it.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="device_transport_http_lib_http_receiver.js.html">device/transport/http/lib/http_receiver.js</a>, <a href="device_transport_http_lib_http_receiver.js.html#line270">line 270</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="complete"><span class="type-signature"></span>complete<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Sends a completion message to the IoT Hub service, effectively removing the message from the queue and flagging it as succesfully delivered.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="device_transport_http_lib_http_receiver.js.html">device/transport/http/lib/http_receiver.js</a>, <a href="device_transport_http_lib_http_receiver.js.html#line261">line 261</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="receive"><span class="type-signature"></span>receive<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>The receive method queries the IoT Hub immediately (as the device indicated in the
                 <code>config</code> constructor parameter) for the next message in the queue.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="device_transport_http_lib_http_receiver.js.html">device/transport/http/lib/http_receiver.js</a>, <a href="device_transport_http_lib_http_receiver.js.html#line138">line 138</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="reject"><span class="type-signature"></span>reject<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Sends a rejection message to the IoT Hub service, effectively removing the message from the queue and flagging it as rejected.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="device_transport_http_lib_http_receiver.js.html">device/transport/http/lib/http_receiver.js</a>, <a href="device_transport_http_lib_http_receiver.js.html#line279">line 279</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setOptions"><span class="type-signature"></span>setOptions<span class="signature">(opts)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>This method sets the options defining how the receiver object should poll the IoT Hub service to get messages.
                 There is only one instance of the receiver object. If the receiver has already been created, calling setOptions will
                 change the options of the existing instance and restart it.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Receiver options formatted as: { interval: (Number), at: (Date), cron: (string), drain: (Boolean) }</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="device_transport_http_lib_http_receiver.js.html">device/transport/http/lib/http_receiver.js</a>, <a href="device_transport_http_lib_http_receiver.js.html#line184">line 184</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="updateSharedAccessSignature"><span class="type-signature"></span>updateSharedAccessSignature<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Sets the SAS Token used for authentication with the IoT Hub service when receiving messages.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="device_transport_http_lib_http_receiver.js.html">device/transport/http/lib/http_receiver.js</a>, <a href="device_transport_http_lib_http_receiver.js.html#line248">line 248</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
        <h3 class="subsection-title">Events</h3>

        
            

    

    <h4 class="name" id="event:errorReceived">errorReceived</h4>

    







    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Error</span>


        </li>
    </ul>









<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="device_transport_http_lib_http_receiver.js.html">device/transport/http/lib/http_receiver.js</a>, <a href="device_transport_http_lib_http_receiver.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:message">message</h4>

    







    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Message</span>


        </li>
    </ul>









<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="device_transport_http_lib_http_receiver.js.html">device/transport/http/lib/http_receiver.js</a>, <a href="device_transport_http_lib_http_receiver.js.html#line48">line 48</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-azure-iot-amqp-base.html">azure-iot-amqp-base</a></li><li><a href="module-azure-iot-common.html">azure-iot-common</a></li><li><a href="module-azure-iot-device.html">azure-iot-device</a></li><li><a href="module-azure-iot-device-amqp.html">azure-iot-device-amqp</a></li><li><a href="module-azure-iot-device-amqp-ws.html">azure-iot-device-amqp-ws</a></li><li><a href="module-azure-iot-device-http.html">azure-iot-device-http</a></li><li><a href="module-azure-iot-device-mqtt.html">azure-iot-device-mqtt</a></li><li><a href="module-azure-iot-http-base.html">azure-iot-http-base</a></li><li><a href="module-azure-iot-mqtt-base.html">azure-iot-mqtt-base</a></li></ul><h3>Classes</h3><ul><li><a href="module-azure-iot-amqp-base.Amqp.html">azure-iot-amqp-base.Amqp</a></li><li><a href="module-azure-iot-amqp-base.AmqpMessage.html">azure-iot-amqp-base.AmqpMessage</a></li><li><a href="module-azure-iot-amqp-base.AmqpReceiver.html">azure-iot-amqp-base.AmqpReceiver</a></li><li><a href="module-azure-iot-common.ArgumentError.html">azure-iot-common.ArgumentError</a></li><li><a href="module-azure-iot-common.BadDeviceResponseError.html">azure-iot-common.BadDeviceResponseError</a></li><li><a href="module-azure-iot-common.DeviceMaximumQueueDepthExceededError.html">azure-iot-common.DeviceMaximumQueueDepthExceededError</a></li><li><a href="module-azure-iot-common.DeviceNotFoundError.html">azure-iot-common.DeviceNotFoundError</a></li><li><a href="module-azure-iot-common.DeviceTimeoutError.html">azure-iot-common.DeviceTimeoutError</a></li><li><a href="module-azure-iot-common.FormatError.html">azure-iot-common.FormatError</a></li><li><a href="module-azure-iot-common.GatewayTimeoutError.html">azure-iot-common.GatewayTimeoutError</a></li><li><a href="module-azure-iot-common.Message.html">azure-iot-common.Message</a></li><li><a href="module-azure-iot-common.SharedAccessSignature.html">azure-iot-common.SharedAccessSignature</a></li><li><a href="module-azure-iot-common.TimeoutError.html">azure-iot-common.TimeoutError</a></li><li><a href="module-azure-iot-common.UnauthorizedError.html">azure-iot-common.UnauthorizedError</a></li><li><a href="module-azure-iot-device.Client.html">azure-iot-device.Client</a></li><li><a href="module-azure-iot-device-amqp.Amqp.html">azure-iot-device-amqp.Amqp</a></li><li><a href="module-azure-iot-device-amqp-ws.AmqpWs.html">azure-iot-device-amqp-ws.AmqpWs</a></li><li><a href="module-azure-iot-device-http.Http.html">azure-iot-device-http.Http</a></li><li><a href="module-azure-iot-device-http.HttpReceiver.html">azure-iot-device-http.HttpReceiver</a></li><li><a href="module-azure-iot-device-mqtt.Mqtt.html">azure-iot-device-mqtt.Mqtt</a></li><li><a href="module-azure-iot-http-base.Http.html">azure-iot-http-base.Http</a></li><li><a href="module-azure-iot-mqtt-base.Mqtt.html">azure-iot-mqtt-base.Mqtt</a></li></ul><h3>Events</h3><ul><li><a href="module-azure-iot-amqp-base.AmqpReceiver.html#event:errorReceived">azure-iot-amqp-base.AmqpReceiver#errorReceived</a></li><li><a href="module-azure-iot-amqp-base.AmqpReceiver.html#event:message">azure-iot-amqp-base.AmqpReceiver#message</a></li><li><a href="module-azure-iot-device-http.HttpReceiver.html#event:errorReceived">azure-iot-device-http.HttpReceiver#errorReceived</a></li><li><a href="module-azure-iot-device-http.HttpReceiver.html#event:message">azure-iot-device-http.HttpReceiver#message</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Oct 10 2016 15:52:48 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>